(this["webpackJsonpdashboard2-app"]=this["webpackJsonpdashboard2-app"]||[]).push([[0],{55:function(t,e,n){},56:function(t,e,n){},96:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var i=n(1),a=n.n(i),c=n(45),o=n.n(c),r=(n(55),n(56),n(25)),s=n.n(r),l=n(46),d=n(14),j=n(3),u=n(48),p=n.n(u),h=n(2);function b(t){var e=t.plant,n=t.sensor,a=t.aggregation,c=Object(i.useState)([{data:[],loaded:!1,title:"Plot"}]),o=Object(d.a)(c,2),r=o[0],u=o[1],b=Object(i.useState)(null),m=Object(d.a)(b,2),f=m[0],g=m[1],O=Object(i.useState)(null),I=Object(d.a)(O,2),x=I[0],S=I[1];return Object(i.useEffect)((function(){var t=setInterval((function(){(function(){var t=Object(l.a)(s.a.mark((function t(){var i,c,o,l,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[],c={headers:{authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ims3NHM4RXR3SEp6RlV4Y19sSDNsUiJ9.eyJpc3MiOiJodHRwczovL2Rldi1kaXBhaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiUjVaNVowaXdqdm1qeTF5MGxMRXlmRmVPR1JjV2dXeXBAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vYXBpLnRhZmpvcmQubm8iLCJpYXQiOjE2MjM2MDA5MDcsImV4cCI6MTYyMzY4NzMwNywiYXpwIjoiUjVaNVowaXdqdm1qeTF5MGxMRXlmRmVPR1JjV2dXeXAiLCJzY29wZSI6InJlYWQ6c2Vuc29yZGF0YSByZWFkOm1sZGF0YSB3cml0ZTpzZW5zb3JkYXRhIHdyaXRlOm1sZGF0YSIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.IoBgP4TRYAfpQ_h8WqXDxyMZcCL51zhTUZHvBetY1W8pwhGgtok-SMDLUtQxBPRS_Z0gxTeQ-11pNCS6IMOrKaSvz_qkzKXq19PHu6TG9oQ95khIFSQLjUVaIz_6IHG7sTjCrIkUlRjv98XFVRT67HAnnHPV6lFKSOL-t4tXAMYT4J0KQXd0IKl3G-bbsOTp5GW8eFKTsiXCpfHvOlryoGU9wPAJZ7R3RI2fVlbbRrdItjXlHCwiy8y7m6Vh_6Clf2Z_6g4iRm7bHVgK2Leocoti4qd_uqf9MW8AfEWtX_V_8AnO893fm8TWl_3jgJzYTH_emUP34aLyKIth4ZtCBA"}},o="https://tafjordhubrestapi.azurewebsites.net/api/sensors?limit=1440&sensor="+n+"&plant="+e+"&aggregation="+a,t.next=5,p.a.get(o,c);case 5:return l=t.sent,t.next=8,i.push(l.data.dbdata.map((function(t){return{x:new Date(Date.parse(t.time)).getTime(),y:20*parseFloat(t.value)}})));case 8:(d=r.slice())[0].data=i[0],d[0].loaded=!0,u(d),console.log("apicall");case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),1e4);return function(){return clearInterval(t)}}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{style:{width:"1000px",height:"420px"},children:r[0].loaded?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{children:[e.replace(/_/g," ")," / ",n.replace(/_/g," ")]}),Object(h.jsxs)(j.f,{xType:"time",animation:!0,xDomain:null!=f&&f.hasOwnProperty("selectionStart")&&null!=f.selectionStart?x?[Math.max(f.selectionStart,x.left),Math.min(f.selectionEnd,x.right)]:[f.selectionStart,f.selectionEnd]:x?[x.left,x.right]:null,yDomain:x&&[x.bottom,x.top],width:1e3,height:300,children:[Object(h.jsx)(j.c,{}),r.map((function(t){return Object(h.jsx)(j.d,{data:t.data},t.title)})),Object(h.jsx)(j.a,{style:{all:{fill:"white"}}}),Object(h.jsx)(j.g,{position:"end",title:"g"}),Object(h.jsx)(j.e,{position:"end",title:"time"}),Object(h.jsx)(j.b,{onBrushEnd:function(t){return S(t)},onDrag:function(t){S({bottom:x.bottom+(t.top-t.bottom),left:x.left-(t.right-t.left),right:x.right-(t.right-t.left),top:x.top+(t.top-t.bottom)})}})]}),Object(h.jsxs)(j.f,{xType:"time",animation:!0,width:1e3,height:100,children:[Object(h.jsx)(j.c,{}),Object(h.jsx)(j.g,{}),Object(h.jsx)(j.e,{}),r.map((function(t){return Object(h.jsx)(j.d,{data:t.data},t.title)})),Object(h.jsx)(j.b,{color:"#829AE3",drag:!0,enableY:!1,onBrushEnd:function(t){g({selectionStart:t&&t.left,selectionEnd:t&&t.right})},onDrag:function(t){g({selectionStart:t&&t.left,selectionEnd:t&&t.right})},onDragEnd:function(t){g({selectionStart:t&&t.left,selectionEnd:t&&t.right})}})]})]}):Object(h.jsx)("div",{children:"Loading..."})})})}var m=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(b,{plant:"ice_water_pump_2",sensor:"vibration_sensor_1",aggregation:"mae"})})},f=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,102)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),i(t),a(t),c(t),o(t)}))};n(96),n(97);o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root")),f()}},[[98,1,2]]]);
//# sourceMappingURL=main.688c3bbb.chunk.js.map