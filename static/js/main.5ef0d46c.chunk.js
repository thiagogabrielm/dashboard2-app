(this["webpackJsonpdashboard2-app"]=this["webpackJsonpdashboard2-app"]||[]).push([[0],{55:function(t,e,n){},56:function(t,e,n){},96:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),r=n(45),o=n.n(r),s=(n(55),n(56),n(25)),c=n.n(s),l=n(46),d=n(14),j=n(3),p=n(48),u=n.n(p),b=n(2);function h(t){var e=t.plant,n=t.sensor,i=t.aggregation,r=Object(a.useState)([{data:[],loaded:!1,title:"Plot"}]),o=Object(d.a)(r,2),s=o[0],p=o[1],h=Object(a.useState)(null),m=Object(d.a)(h,2),g=m[0],f=m[1],O=Object(a.useState)(null),x=Object(d.a)(O,2),I=x[0],_=x[1];return Object(a.useEffect)((function(){var t=setInterval((function(){(function(){var t=Object(l.a)(c.a.mark((function t(){var a,r,o,l,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],r={headers:{authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ims3NHM4RXR3SEp6RlV4Y19sSDNsUiJ9.eyJpc3MiOiJodHRwczovL2Rldi1kaXBhaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiUjVaNVowaXdqdm1qeTF5MGxMRXlmRmVPR1JjV2dXeXBAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vYXBpLnRhZmpvcmQubm8iLCJpYXQiOjE2MjM2MDA5MDcsImV4cCI6MTYyMzY4NzMwNywiYXpwIjoiUjVaNVowaXdqdm1qeTF5MGxMRXlmRmVPR1JjV2dXeXAiLCJzY29wZSI6InJlYWQ6c2Vuc29yZGF0YSByZWFkOm1sZGF0YSB3cml0ZTpzZW5zb3JkYXRhIHdyaXRlOm1sZGF0YSIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.IoBgP4TRYAfpQ_h8WqXDxyMZcCL51zhTUZHvBetY1W8pwhGgtok-SMDLUtQxBPRS_Z0gxTeQ-11pNCS6IMOrKaSvz_qkzKXq19PHu6TG9oQ95khIFSQLjUVaIz_6IHG7sTjCrIkUlRjv98XFVRT67HAnnHPV6lFKSOL-t4tXAMYT4J0KQXd0IKl3G-bbsOTp5GW8eFKTsiXCpfHvOlryoGU9wPAJZ7R3RI2fVlbbRrdItjXlHCwiy8y7m6Vh_6Clf2Z_6g4iRm7bHVgK2Leocoti4qd_uqf9MW8AfEWtX_V_8AnO893fm8TWl_3jgJzYTH_emUP34aLyKIth4ZtCBA"}},o="https://tafjordhubrestapi.azurewebsites.net/api/sensors?limit=1440&sensor="+n+"&plant="+e+"&aggregation="+i,t.next=5,u.a.get(o,r);case 5:return l=t.sent,t.next=8,a.push(l.data.dbdata.map((function(t){return{x:new Date(Date.parse(t.time)).getTime(),y:20*parseFloat(t.value)}})));case 8:(d=s.slice())[0].data=a[0],d[0].loaded=!0,p(d),console.log("apicall");case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),1e4);return function(){return clearInterval(t)}}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{style:{width:"1000px",height:"420px"},children:s[0].loaded?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:[e.replace(/_/g," ")," / ",n.replace(/_/g," ")]}),Object(b.jsxs)(j.f,{xType:"time",animation:!0,xDomain:null!=g&&g.hasOwnProperty("selectionStart")&&null!=g.selectionStart?I?[Math.max(g.selectionStart,I.left),Math.min(g.selectionEnd,I.right)]:[g.selectionStart,g.selectionEnd]:I?[I.left,I.right]:null,yDomain:I&&[I.bottom,I.top],width:1e3,height:300,children:[Object(b.jsx)(j.c,{}),s.map((function(t){return Object(b.jsx)(j.d,{data:t.data},t.title)})),Object(b.jsx)(j.a,{style:{all:{fill:"white"}}}),Object(b.jsx)(j.g,{position:"end",title:"g"}),Object(b.jsx)(j.e,{position:"end",title:"time"}),Object(b.jsx)(j.b,{onBrushEnd:function(t){return _(t)},onDrag:function(t){_({bottom:I.bottom+(t.top-t.bottom),left:I.left-(t.right-t.left),right:I.right-(t.right-t.left),top:I.top+(t.top-t.bottom)})}})]}),Object(b.jsxs)(j.f,{xType:"time",animation:!0,width:1e3,height:100,children:[Object(b.jsx)(j.c,{}),Object(b.jsx)(j.g,{}),Object(b.jsx)(j.e,{}),s.map((function(t){return Object(b.jsx)(j.d,{data:t.data},t.title)})),Object(b.jsx)(j.b,{color:"#829AE3",drag:!0,enableY:!1,onBrushEnd:function(t){f({selectionStart:t&&t.left,selectionEnd:t&&t.right})},onDrag:function(t){f({selectionStart:t&&t.left,selectionEnd:t&&t.right})},onDragEnd:function(t){f({selectionStart:t&&t.left,selectionEnd:t&&t.right})}})]})]}):Object(b.jsx)("div",{children:"Loading..."})})})}var m=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(h,{plant:"ice_water_pump_2",sensor:"vibration_sensor_1",aggregation:"mae"}),Object(b.jsx)(h,{plant:"ice_water_pump_2",sensor:"vibration_sensor_2",aggregation:"mae"}),Object(b.jsx)(h,{plant:"sea_water_pump_2",sensor:"vibration_sensor_1",aggregation:"mae"}),Object(b.jsx)(h,{plant:"sea_water_pump_2",sensor:"vibration_sensor_2",aggregation:"mae"})]})},g=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,102)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),i(t),r(t),o(t)}))};n(96),n(97);o.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root")),g()}},[[98,1,2]]]);
//# sourceMappingURL=main.5ef0d46c.chunk.js.map