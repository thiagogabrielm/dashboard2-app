(this["webpackJsonpdashboard2-app"]=this["webpackJsonpdashboard2-app"]||[]).push([[0],{55:function(e,t,n){},56:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(47),c=n.n(i),o=(n(55),n(8)),s=(n(56),n(12)),l=n.n(s),u=n(26),d=n(3),p=n(27),h=n.n(p),j=n(2);function b(e){var t=e.plant,n=e.sensor,r=e.aggregation,i=Object(a.useState)([{data:[],loaded:!1,title:"Plot"}]),c=Object(o.a)(i,2),s=c[0],p=c[1],b=Object(a.useState)(null),m=Object(o.a)(b,2),g=m[0],I=m[1],f=Object(a.useState)(null),O=Object(o.a)(f,2),x=O[0],v=O[1],S=Object(a.useState)(null),Z=Object(o.a)(S,2),G=Z[0],F=Z[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var a,i,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],i={headers:{authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ims3NHM4RXR3SEp6RlV4Y19sSDNsUiJ9.eyJpc3MiOiJodHRwczovL2Rldi1kaXBhaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiZmxJZFhjdzVZSDdmR3E5NzRrU3ZvcHg1Q3RHMWNmRG9AY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vYXBpLm5vZ3ZhLm5vIiwiaWF0IjoxNjIzNjc2NTgxLCJleHAiOjE2MjM3NjI5ODEsImF6cCI6ImZsSWRYY3c1WUg3ZkdxOTc0a1N2b3B4NUN0RzFjZkRvIiwic2NvcGUiOiJyZWFkOnNlbnNvcmRhdGEgcmVhZDptbGRhdGEgd3JpdGU6c2Vuc29yZGF0YSB3cml0ZTptbGRhdGEiLCJndHkiOiJjbGllbnQtY3JlZGVudGlhbHMifQ.kFh2HTDSfhcKL4QDkBg3G4BC4GUZXMLSpbOfHkXYYKVj3v8nim6CxbZINYLynE9kLSfF22eoKTwK8wF0u8UnIj_rF3r4rMJmp0FNNP9-ajmAGMTJZSYD4Zi3y4uImI6JpGzAnISdvmytjdirya1CllrWTM7kmLqoH4NCRUB4R4pDksuDPe_81Ivfy6xq9tbbh4PvFKstc7Jhgu9BpW6z6OVi8LTvY-CEQICkXwGpVXYl7cSo1zmREGSd6y_WnmFSxYFZ1DOAK9Eac0JcY447IJY1ytuzxXeVdGlsBv-F4e1in9zI11Qh7DO7clq1VPpW-MymQfuIVT4DVSVSherMhQ"}},c="https://nogvahubrestapi.azurewebsites.net/api/sensors?limit=2000&sensor="+n+"&plant="+t+"&aggregation="+r,console.log("try fetch..."),e.prev=4,e.next=7,h.a.get(c,i);case 7:return o=e.sent,e.next=10,a.push(o.data.dbdata.map((function(e){return{x:new Date(Date.parse(e.time)).getTime(),y:parseFloat(e.value)}})));case 10:(u=s.slice())[0].data=a[0],u[0].loaded=!0,p(u),F(o.data.dbdata[0].unit),console.log("apicall"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),console.log("error: "),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){var e=setInterval((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var a,i,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],i={headers:{authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ims3NHM4RXR3SEp6RlV4Y19sSDNsUiJ9.eyJpc3MiOiJodHRwczovL2Rldi1kaXBhaS5ldS5hdXRoMC5jb20vIiwic3ViIjoiZmxJZFhjdzVZSDdmR3E5NzRrU3ZvcHg1Q3RHMWNmRG9AY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vYXBpLm5vZ3ZhLm5vIiwiaWF0IjoxNjIzNjc2NTgxLCJleHAiOjE2MjM3NjI5ODEsImF6cCI6ImZsSWRYY3c1WUg3ZkdxOTc0a1N2b3B4NUN0RzFjZkRvIiwic2NvcGUiOiJyZWFkOnNlbnNvcmRhdGEgcmVhZDptbGRhdGEgd3JpdGU6c2Vuc29yZGF0YSB3cml0ZTptbGRhdGEiLCJndHkiOiJjbGllbnQtY3JlZGVudGlhbHMifQ.kFh2HTDSfhcKL4QDkBg3G4BC4GUZXMLSpbOfHkXYYKVj3v8nim6CxbZINYLynE9kLSfF22eoKTwK8wF0u8UnIj_rF3r4rMJmp0FNNP9-ajmAGMTJZSYD4Zi3y4uImI6JpGzAnISdvmytjdirya1CllrWTM7kmLqoH4NCRUB4R4pDksuDPe_81Ivfy6xq9tbbh4PvFKstc7Jhgu9BpW6z6OVi8LTvY-CEQICkXwGpVXYl7cSo1zmREGSd6y_WnmFSxYFZ1DOAK9Eac0JcY447IJY1ytuzxXeVdGlsBv-F4e1in9zI11Qh7DO7clq1VPpW-MymQfuIVT4DVSVSherMhQ"}},c="https://nogvahubrestapi.azurewebsites.net/api/sensors?limit=2000&sensor="+n+"&plant="+t+"&aggregation="+r,console.log("try fetch..."),e.prev=4,e.next=7,h.a.get(c,i);case 7:return o=e.sent,e.next=10,a.push(o.data.dbdata.map((function(e){return{x:new Date(Date.parse(e.time)).getTime(),y:parseFloat(e.value)}})));case 10:(u=s.slice())[0].data=a[0],u[0].loaded=!0,p(u),F(o.data.dbdata[0].unit),console.log("apicall"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),console.log("error: "),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(){return e.apply(this,arguments)}})()()}),6e4);return function(){return clearInterval(e)}}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{style:{width:"1000px",height:"420px"},children:s[0].loaded?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{children:[t.replace(/_/g," ")," / ",n.replace(/_/g," ")]}),Object(j.jsxs)(d.f,{xType:"time",animation:!0,xDomain:null!=g&&g.hasOwnProperty("selectionStart")&&null!=g.selectionStart?x?[Math.max(g.selectionStart,x.left),Math.min(g.selectionEnd,x.right)]:[g.selectionStart,g.selectionEnd]:x?[x.left,x.right]:null,yDomain:x&&[x.bottom,x.top],width:1e3,height:300,children:[Object(j.jsx)(d.c,{}),s.map((function(e){return Object(j.jsx)(d.d,{data:e.data},e.title)})),Object(j.jsx)(d.a,{style:{all:{fill:"white"}}}),Object(j.jsx)(d.g,{position:"end",title:G}),Object(j.jsx)(d.e,{position:"end",title:"time"}),Object(j.jsx)(d.b,{onBrushEnd:function(e){return v(e)},onDrag:function(e){v({bottom:x.bottom+(e.top-e.bottom),left:x.left-(e.right-e.left),right:x.right-(e.right-e.left),top:x.top+(e.top-e.bottom)})}})]}),Object(j.jsxs)(d.f,{xType:"time",animation:!0,width:1e3,height:100,children:[Object(j.jsx)(d.c,{}),Object(j.jsx)(d.g,{}),Object(j.jsx)(d.e,{}),s.map((function(e){return Object(j.jsx)(d.d,{data:e.data},e.title)})),Object(j.jsx)(d.b,{color:"#829AE3",drag:!0,enableY:!1,onBrushEnd:function(e){I({selectionStart:e&&e.left,selectionEnd:e&&e.right})},onDrag:function(e){I({selectionStart:e&&e.left,selectionEnd:e&&e.right})},onDragEnd:function(e){I({selectionStart:e&&e.left,selectionEnd:e&&e.right})}})]})]}):Object(j.jsx)("div",{children:"Loading..."})})})}var m=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=(t[0],t[1],"snap_mean");return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(r.a.Fragment,{children:[["rpm","boost_pressure","engine_power","fuel_rate","cooling_water_temperature","exhaust_temperature_1","lube_oil_temperature","lube_oil_pressure"].map((function(e,t){return Object(j.jsx)(b,{plant:"Geirangerfjord1/9648-1",sensor:e,aggregation:n},t)})),["rpm","boost_pressure","engine_power","fuel_rate","cooling_water_temperature","exhaust_temperature_1","lube_oil_temperature","lube_oil_pressure"].map((function(e,t){return Object(j.jsx)(b,{plant:"Geirangerfjord2/13185-2",sensor:e,aggregation:n},t)}))]})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,102)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};n(96),n(97);c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),g()}},[[98,1,2]]]);
//# sourceMappingURL=main.4d956f40.chunk.js.map